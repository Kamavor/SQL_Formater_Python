import main

class Gap(object):
    def __init__(self, x: int, y: int):
        self.x = x
        self.y = y


class Gaps(object):
    def __init__(self):
        self.elements = []
        self.count = 0

    def append(self, x: int, y: int, sort: bool = True):
        new_gap = Gap(x, y)
        self.elements.append(new_gap)
        self.count = len(self.elements)
        if sort:
            self.elements.sort(key=func_sort)

    def remove_xy(self, x, y):
        for el in self.elements:
            if el.x == x and el.y == y:
                self.elements.remove(el)
        return self

    def remove(self, gap: Gap):
        self.elements.remove(gap)
        return self

    def show_all(self):
        for el in self.elements:
            print(str(el.x) + ' : ' + str(el.y))

    def reverse(self):
        start = 1
        end = self.elements[-1].y
        new_gaps = Gaps()
        i = 0
        while i < len(self.elements)-1:
            new_gaps.append(self.elements[i].y, self.elements[i+1].x, False)
            i += 1
        return new_gaps

    def simple(self):
        i = 1
        while i < len(self.elements):
            p = self.elements
            if (p[i-1].y >= p[i].x and p[i-1].x <= p[i].y) or (p[i].x == p[i-1].y):
                self.elements[i].x = self.elements[i-1].x
                self.remove(self.elements[i-1])
            else:
                i += 1
            '''
            if self.elements[i].x == self.elements[i-1].y:
                self.elements[i].x = self.elements[i-1].x
                self.remove(self.elements[i-1])
            '''


def func_sort(g: Gap):
    return g.x * 100 + g.y


g = Gaps()
g.append(1,95)
g.append(101,215)
g.append(215,221)
g.append(100,221)
g.append(226,290)
g.append(290,365)
g.append(365,463)
g.append(469,543)
g.append(543,603)
g.append(603,616)
g.append(468,616)
g.append(621,813)
g.append(813,827)
g.append(827,852)
g.append(852,892)
g.append(892,934)
g.append(934,953)
g.append(953,990)
g.append(990,1094)
g.append(1094,1194)
g.append(1194,1307)
g.append(1307,1447)
g.append(1447,1530)
g.append(1536,1555)
g.append(1555,1589)
g.append(1589,1594)
g.append(1594,1613)
g.append(1613,1649)
g.append(1535,1649)
g.append(1654,1766)
g.append(215,222)
g.append(1773,1866)
g.append(1872,1994)
g.append(1994,2418)
g.append(2418,2450)
g.append(2456,2703)
g.append(2703,2726)
g.append(2455,2726)
g.append(2045,2050)
g.append(2742,2766)
g.append(2766,2886)
g.append(2886,3297)
g.append(3297,3323)
g.append(3323,3340)
g.append(3340,3345)
g.append(3345,3392)
g.append(2741,3392)
g.append(3397,3599)
g.append(2746,2752)
g.append(1871,3605)
g.append(3610,3661)
g.append(3661,3679)
g.append(3679,3705)
g.append(3711,3733)
g.append(3710,3733)
g.append(1447,1478)
g.append(3769,3793)
g.append(3793,3836)
g.append(1447,1478)
g.append(3867,3906)
g.append(1589,1594)
g.append(3911,4025)
g.append(4025,4052)
g.append(1447,1478)
g.append(4083,4176)
g.append(1589,1594)
g.append(4181,4205)
g.append(813,827)
g.append(4225,4311)
g.append(4311,4501)
g.append(4224,4501)
g.append(813,827)
g.append(4526,4607)
g.append(4607,4642)
g.append(4525,4642)
g.append(4647,4751)
g.append(4751,4951)
g.append(4951,4994)
g.append(4994,5021)
g.append(5021,5167)
g.append(5167,5493)
g.append(5493,5551)
g.append(5557,5673)
g.append(5673,5696)
g.append(5702,5774)
g.append(5774,5819)
g.append(5701,5819)
g.append(5824,5829)
g.append(5702,5746)
g.append(5873,5926)
g.append(5926,5967)
g.append(5967,6365)
g.append(6365,6384)
g.append(6384,6397)
g.append(6397,6407)
g.append(6413,6525)
g.append(6525,6638)
g.append(6638,6680)
g.append(6680,6951)
g.append(6951,6956)
g.append(6956,7186)
g.append(7186,7264)
g.append(7264,7276)
g.append(6412,7276)
g.append(7281,7332)
g.append(7332,7478)
g.append(5673,5696)
g.append(7501,7543)
g.append(5824,5829)
g.append(7501,7526)
g.append(5556,7573)
g.append(7578,7628)
g.append(7628,7651)
g.append(813,827)
g.append(4526,4575)
g.append(4525,4575)
g.append(4607,4647)
g.append(7796,7822)
g.append(7822,7853)
g.append(7853,7875)
g.append(1589,1594)
g.append(7880,8061)
g.append(813,827)
g.append(8075,8174)
g.append(8174,8227)
g.append(8227,8318)
g.append(8318,8356)
g.append(813,827)
g.append(8376,8465)
g.append(8465,8500)
g.append(8375,8500)
g.append(8505,8575)
g.append(8575,8891)
g.append(813,827)
g.append(4526,4575)
g.append(4525,4575)
g.append(4607,4647)
g.append(9044,9245)
g.append(5673,5696)
g.append(9268,9304)
g.append(1589,1594)
g.append(9309,9349)
g.append(9349,9524)
g.append(9524,9559)
g.append(9565,9709)
g.append(9709,9811)
g.append(9564,9811)
g.append(1589,1594)
g.append(9827,9855)
g.append(9861,10036)
g.append(10036,10150)
g.append(10150,10164)
g.append(10150,10150)
g.append(10150,10150)
g.append(10170,10203)
g.append(10203,10273)
g.append(10273,10313)
g.append(9860,10313)
g.append(10318,10323)
g.append(10323,10357)
g.append(9826,10357)
g.append(10362,10391)
g.append(10391,10551)
g.append(10551,10566)
g.append(10566,10617)
g.append(10617,10642)
g.append(10648,10905)
g.append(10905,10919)
g.append(10919,11111)
g.append(11111,11133)
g.append(11139,11214)
g.append(11139,11139)
g.append(11139,11139)
g.append(11220,11253)
g.append(11253,11321)
g.append(11220,11253)
g.append(11354,11444)
g.append(11138,11444)
g.append(10894,10899)
g.append(11220,11253)
g.append(11487,11559)
g.append(11559,11595)
g.append(11595,11645)
g.append(10647,11645)
g.append(11650,11666)
g.append(11666,11687)
g.append(11687,11773)
g.append(11779,11789)
g.append(11789,11991)
g.append(11991,12077)
g.append(11778,12077)
g.append(12082,12139)
g.append(12145,12186)
g.append(12186,12217)
g.append(12217,12242)
g.append(12242,12361)
g.append(12361,12389)
g.append(12395,12514)
g.append(12514,12627)
g.append(12627,12641)
g.append(12647,12680)
g.append(12680,12750)
g.append(12750,12790)
g.append(12646,12790)
g.append(12795,12800)
g.append(12647,12677)
g.append(12394,12830)
g.append(12835,12864)
g.append(12864,12968)
g.append(12968,12983)
g.append(12983,13034)
g.append(13034,13059)
g.append(13065,13322)
g.append(13322,13336)
g.append(13336,13538)
g.append(13538,13560)
g.append(13538,13538)
g.append(13538,13538)
g.append(13566,13641)
g.append(13566,13566)
g.append(13566,13566)
g.append(13647,13680)
g.append(13680,13748)
g.append(13647,13680)
g.append(13781,13876)
g.append(13064,13876)
g.append(12302,12307)
g.append(13647,13680)
g.append(13919,13991)
g.append(13991,14027)
g.append(14027,14082)
g.append(14082,14098)
g.append(14098,14119)
g.append(14119,14165)
g.append(14171,14181)
g.append(14181,14376)
g.append(14376,14455)
g.append(14170,14455)
g.append(12144,14459)
g.append(14464,14502)
g.append(14502,14566)
g.append(14566,14626)
g.append(14626,14754)
g.append(14754,14791)
g.append(813,827)
g.append(14811,14898)
g.append(14898,14933)
g.append(14810,14933)
g.append(14938,15157)
g.append(813,827)
g.append(4526,4575)
g.append(4525,4575)
g.append(4607,4647)
g.append(15308,15347)
g.append(15347,15458)
g.append(3679,3705)
g.append(15490,15545)
g.append(15545,15590)
g.append(15590,16872)
g.append(16872,16974)
g.append(16980,17040)
g.append(17040,17090)
g.append(17090,17147)
g.append(17147,17183)
g.append(17183,17275)
g.append(17275,17329)
g.append(17335,17349)
g.append(17349,17606)
g.append(17606,17656)
g.append(17656,17893)
g.append(17334,17893)
g.append(17335,17349)
g.append(17912,17951)
g.append(17951,18030)
g.append(18030,18129)
g.append(17335,17349)
g.append(18143,18169)
g.append(16979,18169)
g.append(18174,18273)
g.append(18273,18345)
g.append(18345,18407)
g.append(17335,17349)
g.append(18421,18492)
g.append(18492,18509)
g.append(18509,18541)
g.append(18541,18571)
g.append(18174,18273)
g.append(18670,18867)
g.append(18867,18893)
g.append(18899,19010)
g.append(19016,19083)
g.append(19083,19180)
g.append(19180,19291)
g.append(19291,19312)
g.append(19312,19352)
g.append(19352,19373)
g.append(19373,19409)
g.append(19409,19430)
g.append(19430,19459)
g.append(19459,19514)
g.append(19015,19514)
g.append(19519,19641)
g.append(19641,21521)
g.append(21521,21553)
g.append(21521,21521)
g.append(21521,21521)
g.append(21559,21803)
g.append(21803,21826)
g.append(18898,21826)
g.append(18763,18768)
g.append(21842,21866)
g.append(21866,21976)
g.append(21976,22388)
g.append(22388,22414)
g.append(22414,22431)
g.append(22431,22436)
g.append(22436,22532)
g.append(21841,22532)
g.append(15489,22536)
g.append(1589,1594)
g.append(22552,22580)
g.append(22580,22677)
g.append(22677,22732)
g.append(22732,22750)
g.append(22732,22750)
g.append(22750,22760)
g.append(22750,22760)
g.append(22760,22867)
g.append(22867,22894)
g.append(22894,22953)
g.append(22953,23110)
g.append(23110,23280)
g.append(23280,23293)
g.append(23293,23343)
g.append(23343,23368)
g.append(23343,23343)
g.append(23343,23343)
g.append(23374,23445)
g.append(23293,23342)
g.append(22551,23494)
g.append(23499,23513)
g.append(23513,23532)
g.append(23532,23560)
g.append(23560,23659)
g.append(23659,23770)
g.append(23770,23787)
g.append(23787,23939)
g.append(23787,23939)
g.append(813,827)
g.append(4526,4575)
g.append(4525,4575)
g.append(24035,24079)
g.append(5021,5167)
g.append(24225,24376)
g.append(4647,4751)
g.simple()
# g.show_all()
print('------')
new_g = g.reverse()
# new_g.show_all()

text_file = open('text_req.txt', 'r', encoding="utf-8")
text_full = text_file.read().lower()
text_full = main.only_spaces(text_full)
text_full = main.escaping_words(text_full)

i = 0
while i < len(new_g.elements):
    x = new_g.elements[i].x
    y = new_g.elements[i].y
    print(text_full[x:y])
    i += 1
